 <!DOCTYPE html>
<html lang="en">

<head>
  {% load static %}

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>HSCO</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>

  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <!-- Custom styles for this template-->
  <link href="{% static 'css/dashboard/sb-admin-2.min.css' %}" rel="stylesheet">
<style>
    * {
    font-family: 'Poppins';
}

</style>


<style>
    .border-right-primary{border-right:.25rem solid #4e73df!important}
</style>

                        <style>
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 24px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: green;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 0px;
  bottom: 1px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .slider {
  background-color: #2196F3;
}

input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}
.divs{
display:none;
}

.card-body{
font-size: 12px;
}
</style>
</head>

<body id="page-top">

               <style>
        .border-right-primarya {
        border-right: 4px solid blue;
        }
        .border-left-primarya {
        border-left: 4px solid blue;
        }
    </style>
<style>
  .border-left-primary {
    border-left: .09rem solid #4e73df!important;
    font-size: 12px;

}

a:hover {
  text-decoration: none;
}

</style>

                        <style>
                .border_class {
                border:1px solid black;
                height:45px;
                text-align:center;
                vertical-align: middle;
                line-height: 45px;
                }


  table {
  border-collapse: collapse;
  width: 100%;
  font-size: 12px;
  border-color: black;
  color: black;



}


th {

  font-size: 13px;
    border: 1px solid black;
    text-align: left;
    padding:5px;

}

td {
  border: 1px solid black;
  padding: 3px;
  font-size: 13px;
  padding: 5px;
  text-align: center;
}


            </style>
  <!-- Page Wrapper -->
  <div id="wrapper">
  {% include 'base_templates/sidebar.html' %}

    <!-- Sidebar -->
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">


        <!-- Topbar -->
  {% include 'base_templates/navbar_for_dashboard.html' %}
        <!-- End of Topbar -->

        <!-- Begin Page Content -->
        <div class="container-fluid ">

                           {% if is_deleted %}

                    <div class="alert alert-success alert-dismissible fade show" role="alert">
  <strong>Sent : </strong> {{msg}}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{% endif %}
          <!-- Page Heading -->

           <div class="row">
           <div class="col-xl-6 col-md-3 mb-3 ">


                <div class="card-body" style="padding: 2px;">
                  <div class="row no-gutters align-items-right">
<h1 class="h3 mb-0 text-gray-800 ">Follow-Up History</h1>


                </div>
              </div>
            </div>



                </div>

  <div class="row">

    <table>
        <tr style="background-color: gray; color: white;">
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">Sr. No.</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">Time</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">Mode</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">Medium of Selection</td>
            <td colspan="5" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">Whatsapp Number</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">Whatsapp Message</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">Email Subject</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">Email Message</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">SMS Content</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">Call Response</td>
        </tr>
    {% for item in obj_list %}
          <script>
    $(function(){
      $("#includedContent{{forloop.counter}}").load('/media/{{item.followup_history_file}}');
    });
    </script>


 {% ifchanged item.entry_timedate_time.date %}
        <tr style="background-color: gray; color: white;">
            <td colspan="14" style=" border: 1px solid white;"> {{ item.entry_timedate_time.date }}</td>
        </tr>

            {% endifchanged %}


        <tr>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:1px solid gray;"> {{forloop.counter}}</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:1px solid gray;"> {{ item.entry_timedate_time.time }}</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:1px solid gray;"> {{form4.email_auto_manual}}</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:1px solid gray;"> {% if item.is_email %} Email {% endif %} {% if item.is_whatsapp %}| Whatsapp {% endif %} {% if item.is_call %}| Call {% endif %} {% if item.is_sms %}| SMS {% endif %}</td>
            <td colspan="5" style="border-radius: 0px 0px 0px 0px; border:1px solid gray;"> {{ item.wa_no }}</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:1px solid gray;">{{ item.wa_msg }}</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:1px solid gray;">{{ item.email_subject }}</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:1px solid gray;">{{ item.email_msg }}</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:1px solid gray;">{{ item.sms_msg }}{{item.sms_con}}</td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:1px solid gray;">{{ item.call_response }}</td>

        </tr>
        <tr >
            <td colspan="12" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">
                <div id="includedContent{{forloop.counter}}"></div>
            </td>
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">
            {% if not item.is_manual_mode %}
            <span style="float:right;margin:10px;" class="alert alert-danger">Auto Follow-Up</span>
            {% endif %}
            </td>
            {% if not item.is_auto_follow_deleted and not item.is_manual_mode %}
            <td colspan="1" style="border-radius: 0px 0px 0px 0px; border:0px solid gray;">

                    <form action="" method='POST'>{% csrf_token %}
                        <input type="hidden" name="delete_id" value="{{item.pk}}">
                        <button type="submit" name="sub1" class="btn btn-primary">Cancel</button>
                    </form>

            </td>
            {% endif %}
        </tr>
{% endfor %}
    </table>

        </div>





   </div>


        </div>
</div>
  </div>
  <!-- End of Page Wrapper -->



  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>



  <!-- Bootstrap core JavaScript-->
  <script src="{% static 'js/dashboard/jquery.min.js' %}"></script>
  <script src="{% static 'js/dashboard/bootstrap.bundle.min.js' %}"></script>

  <!-- Core plugin JavaScript-->
  <script src="{% static 'jjs/dashboard/jquery.easing.min.js' %}"></script>

  <!-- Custom scripts for all pages-->
  <script src="{% static 'js/dashboard/sb-admin-2.min.js' %}"></script>

  <!-- Page level plugins -->
  <script src="{% static 'js/dashboard/Chart.min.js' %}"></script>

  <!-- Page level custom scripts -->
  <script src="{% static 'js/dashboard/chart-area-demo.js' %}"></script>
  <script src="{% static 'js/dashboard/chart-pie-demo.js' %}"></script>

</body>

</html>
