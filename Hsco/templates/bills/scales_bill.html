
<html>
<head>
  <title>
    HSCO
  </title>
  {% load static %}
{% load mathfilters %}
  <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.0.272/jspdf.debug.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>


  <style>
      * {
    font-family: 'Poppins';
    font-size: 0.99em;

  }

  table {
  border-collapse: collapse;
  width: 85%;
  font-size: 18px;
  border-color: black;
  color: black;



}


th {

  font-size: 12px;
    border: 1px solid black;
    text-align: left;
    padding:5px;

}

td {
  border: 1px solid black;
  padding: 3px;
}


 @media print and (width: 10.5cm) and (height: 14.8cm) {
    @page {
       margin: 3cm;
    }
    .no-print, .no-print *
    {
        display: none !important;
    }
 }

 .border-to-div {
    border-style: solid;
    border-color: darkgreen;
 }

 .low-padding {
   padding: 2px !important;
   margin: 02 !important;
}


  </style>

</head>
<body>

<div id="printableArea" style="margin-left: 4%; margin-right: 4%;">
<div class="row">
    <div class="col-xl-3 col-md-3 ">
<img src="{% static 'images/hsco_logo.jpg' %}" class="" width="200" height="80" style="float: left;">
</div>
    <div class="col-xl-1 col-md-1 ">
    </div>
    <div class="col-xl-3 col-md-3 ">
    	 <center><h6>Subject to Mumbai Jurisdiction	</h6></center>
        <center><i><b style="font: italic bold 20px/30px Georgia, serif;">Tax Invoice</b></i></center><br>
       
</div>
    
    <div class="col-xl-5 col-md-5 " >
    <p style="float: right;">Ph<b> 022-23423183, 7045922250/51/52</b> <br>
    	Manufacture Licence No. <b>  LM/MH/H004</b> <br>
    	Dealer Licence No. <b> LD/MH/H004</b> <br>
    	Repairing Licence No. <b>  LR/MH/H004</b> <br>


    </p>
    </div>
    </div>


        <div class="row">
         <div class="col-md-12" style="padding:5px;">
        <center><h1 style="font-weight:bold; font-size:55px;"> Hindustan Scale Company</h1>
        </center></div>
        </div>
        <div class="row">
         <div class="col-md-12" style="padding:0px;">
             <center><p style="font-weight:bold;"><b> A one stop shop for all your weighing needs</b><br><font color="#FC6E20" style="font-weight:bold;"> AN ISO 9001: 2015 CERTIFIED COMPANY</font></p>
        </center></div>
        </div>


  <div class="row">
 <div class="col-md-12" style="padding:10px;">
 <center><p style="font-weight:bold;"> All kinds of Mechanical and Digital Weighing Scales, Weights & Measures.<br>
 186/188 Janjikar Street, Near Crawford Market, Mumbai-400003/<span style="color: #FC6E20;">www.hindustanscale.com/hsc@hindustanscale.com</span></p>
 </center></div>
 </div>

            
		<div class="row">
          <div class="col-md-2">
          <center><p style=" float:right;"> Messrs</p>
          </center></div>
          <div class="col-md-5">
          </div>
          
          <div class="col-md-1">
          </div>
          <div class="col-md-2">
          <center><p style=" float:right;">Date:</p>
          </center></div>
          <div class="col-md-2"> <p>{{todays_date}}</p>
          </div>
          </div>


        <div class="row">
          <div class="col-md-2" style="padding:0%">
          <center><p style=" float:right;"> Company Name :</p>
          </center></div>
          <div class="col-md-5">
          <center><p style=" float:left; ">{{invoice_details.crm_no__company_name}} </p>
          </center></div>
          

          <div class="col-md-3" style="padding:0%">
          <center><p style=" float:right;">GST Invoice No:</p>
          </center></div>
          <div class="col-md-2">
          <center><p style=" float:left;">{{latest_bill_no}} </p>
          </center></div>
          </div>
          
          <div class="row">
          <div class="col-md-2" style="padding:0%">
          <center><p style=" float:right;">Contact Person :</p>
          </center></div>
          <div class="col-md-5">
          <center><p style=" float:left;">{{invoice_details.second_person}} </p>
          </center></div>
       
          <div class="col-md-3" style="padding:0%">
          <center><p style="float:right;">Sales Person :</p>
          </center></div>
          <div class="col-md-2">
          <center><p style=" float:left;"> {{invoice_details.sales_person}}</p>
          </center></div>
          </div>
         
         
          <div class="row">
          <div class="col-md-2" style="padding:0%">
          <center><p style=" float:right;">Billing Address:</p>
          </center></div>
          <div class="col-md-5">
          <center><p style=" float:left;"> {{invoice_details.bill_address}} </p>
          </center></div>
          
         
          <div class="col-md-3" style="padding:0%">
          <center><p style=" float:right;">PO Number:</p>
          </center></div>
          <div class="col-md-2">
          <center><p style=" float:left;">{{invoice_details.po_number}}</p>
          </center></div>
          </div>
          
          
          
          
          <div class="row">
            <div class="col-md-2" style="padding:0%">
              <center><p style=" float:right;">Shipping Address :</p>
              </center></div>
              <div class="col-md-5">
              <center><p style=" float:left;">{{invoice_details.shipping_address}}</p>
              </center></div>
    
          <div class="col-md-3" style="padding:0%">
          <center><p style=" float:right;">Customer GST Number: </p>
          </center></div>
          <div class="col-md-2">
          <center><p style=" float:left;">{{invoice_details.crm_no__customer_gst_no}}</p>
          </center></div>
          </div>

          <div class="row">
            <div class="col-md-2" style="padding:0%">
              <center><p style=" float:right;">Phone :</p>
              </center></div>
              <div class="col-md-5">
              <center><p style=" float:left;">{{invoice_details.second_contact_no}}</p>
              </center></div>
              <div class="col-md-3" style="padding:0%">
                <center><p style=" float:right;">Dispatch Through: </p>
                </center></div>
                <div class="col-md-2">
                <center><p style=" float:left;">Sales Module</p>
                </center></div>
          </div>




<style>
    .border_class {
    border:1px solid black;
    height:45px;
    text-align:center;
    vertical-align: middle;
    line-height: 45px;
    }


  table {
  border-collapse: collapse;
  width: 100%;
  font-size: 12px;
  border-color: black;
  color: black;

}

td {
  border: 1px solid black;
  padding: 3px;
  font-size: 12px;
  padding: 5px;
  text-align: left;
}

th {
    font-size: 12px;
    border: 1px solid black;
    text-align: left;
    padding:5px;
}



            </style>


<div>

        <div class="row" id="id_manager_view">

    <table>
      <tr style="background-color: #313131; color: white; height: 50px">
        <td style=" border: 1px solid gray; width: 15%; color: white; border-right: 1px solid white;"><center><b style="font-size:16px;">Quantity</b></center></td>
        <td style="border: 1px solid gray; width: 15%; border-right: 1px solid white;"><center><b style="font-size:16px;">HSN Code</b></center></td>
        <td style="border: 1px solid gray; width: 40%; border-right: 1px solid white;"><center><b style="font-size:16px;">Description Of Items</b></center></td>
        <td style="border: 1px solid gray; width: 15%; border-right: 1px solid white;"><center><b style="font-size:16px;">Rate</b></center></td>
        <td style=" border: 1px solid gray; width: 15%;"><center><b style="font-size:16px;">Amount</b></center></td>
    </tr>

        <tbody>
        	{% for item in products_details %}

        	<tr>
        		<td>
        			<center> {{item.quantity}} </center> 
        		</td>
        		<td>
        			<center> {{item.hsn_code}} </center>
        		</td>
        		<td>{{item.sub_sub_model}}		</td>
        		<td>INR <span style="float: right;">  {{item.amount}} </span></td>
        		<td> INR <span style="float: right;">{{item.amount}} </span></td>
        	</tr>
          {% if forloop.last %}
            {% if forloop.counter == 1 %}
                <tr ><td>  .<td/><td><td/><td></tr>
                <tr><td>  .<td/><td><td/><td></tr>
                <tr><td>  .<td/><td><td/><td></tr>
                <tr><td>  .<td/><td><td/><td></tr>
            {% elif forloop.counter == 2 %}
                <tr ><td>  .<td/><td><td/><td></tr>
                <tr><td>  .<td/><td><td/><td></tr>
                <tr><td>  .<td/><td><td/><td></tr>
            {% elif forloop.counter == 3 %}
                <tr ><td>  .<td/><td><td/><td></tr>
                <tr ><td>  .<td/><td><td/><td></tr>
            {% elif forloop.counter == 4 %}
                <tr ><td>  .<td/><td><td/><td></tr>
          {% endif %} 
        {% endif %} 
        {% endfor %}
          
        

       
        
        
        	
        	<tr>
        		<td>&nbsp;</td>
        		<td></td>
        		<td></td>
        		<td></td>
        		<td></td>
        	</tr>

        	<tr>
        		<td>&nbsp;</td>
        		<td></td>
            <td> Payment Mode : {{invoice_details.payment_mode}}</td>
        		<td><center> Total </center></td>
        		<td>INR <span style="float: right;">{{invoice_details.value_of_goods}} </span></td>
          </tr>
          
        	<tr>
        		<td>&nbsp;</td>
        		<td></td>
        		{% if invoice_details.payment_mode == 'Cheque' %}
                    <td>  Bank Name: {{invoice_details.bank_name}}</td>
            {% elif invoice_details.payment_mode == 'Credit' %}
                    <td>  Credit Authorised By: {{invoice_details.credit_authorised_by}}</td>

            {% elif invoice_details.payment_mode == 'NEFT' %}
                    <td> NEFT Bank: {{invoice_details.neft_bank_name}} </td>
            {% else %}
              <td></td>
            {% endif %}
        		<td><center>Discount </center></td>
        		<td>INR <span style="float: right;">0.0 </span></td>
        	</tr>
        	<tr>
        		<td>&nbsp;</td>
        		<td></td>
        		{% if invoice_details.payment_mode == 'Cheque' %}
                    <td>  Cheque No: {{invoice_details.cheque_no}}</td>
            
            {% elif invoice_details.payment_mode == 'NEFT' %}
                  <td>  NEFT date: {{invoice_details.neft_date}}</td>
            {% else %}
              <td></td>
            {% endif %}
        		<td><center>P&F </center></td>
        		<td>INR <span style="float: right;">{{invoice_details.total_pf}} </span></td>
        	</tr>

        	

{% if invoice_details.crm_no__customer_gst_no|slice:":2" == 27 or invoice_details.crm_no__customer_gst_no|slice:":2" == '27' or invoice_details.crm_no__customer_gst_no == None or invoice_details.crm_no__customer_gst_no == 'None' or invoice_details.crm_no__customer_gst_no == ''  %}
        	<tr>
        		<td>&nbsp;</td>
        		<td></td>
        		{% if invoice_details.payment_mode == 'Cheque' %}
        <td>  Cheque Date: {{invoice_details.cheque_date}}</td>
            
            {% elif invoice_details.payment_mode == 'NEFT' %}
        <td> Reference No.: {{invoice_details.reference_no}}  </td>
            {% else %}
              <td></td>
            {% endif %}
        		<td><center> CGST @ 9% </center></td>
        		<td>INR <span style="float: right;">{{invoice_details.tax_amount|div:2}} </span></td>
        	</tr>

        	<tr>
        		<td>&nbsp;</td>
        		<td></td>
        		<td> </td>
        		<td><center>  SGST @ 9% </center></td>
        		<td>INR <span style="float: right;">{{invoice_details.tax_amount|div:2}}  </span></td>
        	</tr>
{% else %}
        	<tr>
        		<td>&nbsp;</td>
        		<td></td>
        		{% if invoice_details.payment_mode == 'Cheque' %}
        <td>  Cheque Date: {{invoice_details.cheque_date}}</td>
            
            {% elif invoice_details.payment_mode == 'NEFT' %}
        <td> Reference No.: {{invoice_details.reference_no}}  </td>
            {% else %}
              <td></td>
            {% endif %}
        		<td><center>   IGST @ 18%  </center></td>
        		<td>INR <span style="float: right;">{{invoice_details.tax_amount}}</td>
        	</tr>
{% endif %}
          <tr>
            <td>&nbsp;</td>
            <td></td>
            <td></td>
            <td><center>   Round Off </center></td>
            <td>INR <span style="float: right;">{{invoice_details.round_off_total}}</span></td>
          </tr>

        	<tr>
        		<td>&nbsp;</td>
        		<td></td>
        		<td></td>
        		<td><center><b>Grand Total </b></center></td>
        		<td><b>INR <span style="float: right;">{{invoice_details.total_amount}} </span></b></td>
        	</tr>





        </tbody>


   
    </table>
        </div>
            </div>
    <br>
    

        <div class="row">
            <div class="col-md-4" style="padding:10px;">
                <p>GST ID - <b>27AACFH2329F1ZP</b><br>
                    PAN Number - <b>AACFH2329F</b><br>
                    TAN Number - <b>MUMH17092F</b></p>
            </div>
	         <div class="col-md-8">
<img src="{% static 'images/logo_bill.png' %}" style="width: 100%; height:90px;">
         </div>
             <div class="row">
            <div class="col-md-12 " style="padding:10px;"><p style="font-size: 12px;">
I/We hereby certify that my/our registration certificate under the Goods and Service Tax Laws is in force on the date of which the sale of goods specified in this “Proforma Invoice” is made by me/us and that the transaction of sale is covered by this and has been effected by me/us and it shall be accounted for in the turnover of sales while filing of return and the due tax, if any, payable on the sale has been paid
  </p>     </div>


        </div>

<div class="row">
            <div class="col-md-6">
<p style="font-size: 10px;">All prices are Ex-Workshop./ Packing and forwarding is extra as indicated/
                All products have an warranty of 1 year against any manufacturing defect unless stated/
                There is no warranty for Loadcell, Battery and Mains Cord/
                Damages due to transportation is out of the scope of warranty/
                Payment is 50% advance with order and remaining 50% before Dispatch/
                This offer is valid for the next 10 days
                Cheque should be in the name of "Hindustan Scale Co".
                Bank details are as follows <br>
                <b>DCB Bank<br>
                Name – Hindustan Scale Co.<br>
                Acct No – 01922412121947<br>  
                IFSC Code-DCBL0000019<br>
                Type of account – Current Account <br>
                Bank Name – DCB Bank<br>
                Address Mohamedali Road Branch</b><br>
                <b style="background-color: black; color: white; 
                font-size: 40px;
                position: absolute;
                top: 80px;
                right: 0;">ATTACH CC</b>
              </p>
            </div>
            <div class="col-md-4" style="padding-left: 15%;">
              <img src="{% static 'images/qr.png' %}" style="height: 240px; width: 300px;">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-9" style="border-top: 1px solid black;">
            <span style="font-size: 11px;">HINDUSTAN SCALE COMPANY, 186/188 Janjikar Street, Crawford Market, Mumbai - 400003</span>
                  </div>
                  <div class="col-md-2" style="border-top: 1px solid black;">
                    <span style="font-size: 11px;">{{invoice_details.purchase_no}}</span>
                          </div>
      </div>
        </div>

</div>



</div>

</center>

<center>
	<div id="no-print" class="d-print-none">
		
        <a href="/update_customer_details/{{sales_id}}"><button style="background-color: #FC6E20;" id="myText19" type="submit" value="Submit" class="btn btn-primary">Edit</button>
        </a>
        <form method="POST" >{% csrf_token %}

        <button style="background-color: #FC6E20;" name="submit" value="submit" type="submit" onclick="get_details()" value="Submit" class="btn btn-primary">Submit & Print</button>
        </form>
	</div>

    </center>

<script>
  function printDiv(divName) {

     var printContents = document.getElementById(divName).innerHTML;
     var originalContents = document.body.innerHTML;

     document.body.innerHTML = printContents;

     window.print();

     document.body.innerHTML = originalContents;


}
function get_details() {

window.print();
     console.log("hhihi");
function getCookie(name) {
             var cookieValue = null;
             if (document.cookie && document.cookie != '') {
                 var cookies = document.cookie.split(';');
                 for (var i = 0; i < cookies.length; i++) {
                     var cookie = jQuery.trim(cookies[i]);
                     // Does this cookie string begin with the name we want?
                     if (cookie.substring(0, name.length + 1) == (name + '=')) {
                         cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                         break;
                     }
                 }
             }
             return cookieValue;
         }

    let doc = new jsPDF('p','pt','a4');

    doc.addHTML(document.body,function() {

    var formData = new FormData();
    formData.append('bill_file', doc.output());
    var pdf = btoa(doc.output());
    //console.log(doc);
    var xhr = new XMLHttpRequest();
    xhr.onload = function (e) {
        if (xhr.readyState === 4 && xhr.status === 200){
            result=xhr.responseText;
            console.log(result);
        }
    }
    xhr.open('POST', '/showBill/{{sales_id}}/Scale', true);
    xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));
    xhr.send(formData);

    });
}



</script>

</body>

</html>